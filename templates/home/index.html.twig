{% extends 'layout.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block content %}
    <div class="container">
        <div class="row mt-3">
            <div class="col" >
                <div id="carouselExampleCaptions" class="carousel slide ombre" data-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="{{ asset("images/carousel1.jpg") }}" class="d-block w-100" alt="Image carousel">
                            <div class="carousel-caption d-none d-md-block p-0 px-2 rounded" style="background-color: rgba(0,0,0,0.7);">
                                <h5>Univers</h5>
                                <p>Venez affronter vos adversaires grâce à votre pistolet laser ! Dans un labyrinthe futuriste plongé dans la pénombre et dans une ambiance sonore délirante, vous aurez besoin de tous vos réflexes pour mener à bien votre mission.</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img src="{{ asset("images/carousel2.jpg") }}" class="d-block w-100" alt="Image carousel">
                            <div class="carousel-caption d-none d-md-block p-0 px-2 rounded" style="background-color: rgba(0,0,0,0.7);">
                                <h5>Thème</h5>
                                <p>Le labyrinthe fait 2500m² réparti sur deux niveaux, vous serez dans le hangard d'un Super Destroyer Stellaire, en joignant les Jedi ou les Sith.</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img src="{{ asset("images/carousel3.jpg") }}" class="d-block w-100" alt="Image carousel">
                            <div class="carousel-caption d-none d-md-block p-0 px-2 rounded" style="background-color: rgba(0,0,0,0.7);">
                                <h5>Description</h5>
                                <p>La partie dure 45 minutes et pendant votre partie, vous allez pouvoir marcher, courir, monter, descendre, faire preuve de stratégie pour vaincre votre adversaire mais surtout vous amuser !!</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img src="{{ asset("images/carousel4.jpg") }}" class="d-block w-100" alt="Image carousel">
                            <div class="carousel-caption d-none d-md-block p-0 px-2 rounded" style="background-color: rgba(0,0,0,0.7);">
                                <h5>Bon jeux à tous et à toutes</h5>
                                <p>A vous de choisir votre camps et de mener à bien votre mission pour établir de nouveaux reccords !!!</p>
                            </div>
                        </div>
                    </div>
                    <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div>

        <div class="row mt-5">
            <div class="col">
                <h3 class="text-center text-light title-home">Nos tarifs</h3>
                <div class="card mt-3 p-3 ombre" style="background-color: rgba(0,0,0,0.5);color:white;">
                    <div class="row align-items-center">
                        <div class="col-4 col-md-3 text-right">
                            <p class="border-right pr-4" style="font-size:1.2rem">1ère partie <span style="font-size:1.5rem">15€</span></p>
                        </div>
                        <div class="col-7">
                            <p style="font-size:0.9rem">Pendant 45 minutes, formez les équipes, enfilez vos tenues, affrontez vous et découvrez votre score et le classement général !</p>
                        </div>
                    </div>
                    <div class="row align-items-center">
                        <div class="col-4 col-md-3 text-right">
                            <p class="border-right pr-4" style="font-size:1.2rem">2ème partie <span style="font-size:1.5rem">13€</span class=""></p>
                        </div>
                        <div class="col-7">
                            <p style="font-size:0.9rem">Economisez 2€ sur votre deuxième partie, consécutive à la première !</p>
                        </div>
                    </div>
                    <div class="row align-items-center">
                        <div class="col-4 col-md-3 text-right">
                            <p class="border-right pr-4" style="font-size:1.2rem">3ème partie <span style="font-size:1.5rem">9€</span class=""></p>
                        </div>
                        <div class="col-7">
                            <p style="font-size:0.9rem">Economisez 6€ sur votre troisième partie, consécutive aux deux premières !</p>
                        </div>
                    </div> 
                </div>     
            </div>
        </div>

        <div class="row mt-5">
            <div class="col">
            <h3 class="text-center text-light title-home">Wall of frame</h3>
                <div class="row mt-3">
                    <div class="col-lg-6 mb-3">
                        <div class="card px-3 ombre" style="background-color: rgba(0,0,0,0.5);color:white;">
                            <div class="card-header text-center">
                                <h4 class="font">Score Jedi</h4>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    {% if jedi_scores|length > 2 %}
                                        <div class="col align-self-end text-center" style="height:125px;border: 2px solid;border-color:red; background-color:rgba(255,0,0,0.5);border-radius: 5px 0 0 0;">
                                            <span class="font">2</span><br>{{ jedi_scores[1].score }} pts<br>{{ jedi_scores[1].pseudo }}
                                        </div>
                                        <div class="col align-self-end text-center" style="height:150px;border: 2px solid;border-color:#39ff14;;background-color:rgba(0,255,0,0.5);border-radius: 5px 5px 0 0;">
                                            <span class="font">1</span><br>{{ jedi_scores[0].score }} pts<br>{{ jedi_scores[0].pseudo }}
                                        </div>
                                        <div class="col align-self-end text-center" style="height:100px;border: 2px solid;border-color:blue;background-color:rgba(0,0,255,0.5);border-radius: 0 5px 0 0;">
                                            <span class="font">3</span><br>{{ jedi_scores[2].score }} pts<br>{{ jedi_scores[2].pseudo }}
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 mb-3">
                        <div class="card px-3 ombre" style="background-color: rgba(0,0,0,0.5);color:white">
                            <div class="card-header text-center">
                                <h4 class="font">Score Sith</h4>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    {% if sith_scores|length > 2 %}
                                        <div class="col align-self-end text-center" style="height:125px;border: 2px solid;border-color:red; background-color:rgba(255,0,0,0.5);border-radius: 5px 0 0 0;">
                                            <span class="font">2</span><br>{{ sith_scores[1].score }} pts<br>{{ sith_scores[1].pseudo }}
                                        </div>
                                        <div class="col align-self-end text-center" style="height:150px;border: 2px solid;border-color:#39ff14;;background-color:rgba(0,255,0,0.5);border-radius: 5px 5px 0 0;">
                                            <span class="font">1</span><br>{{ sith_scores[0].score }} pts<br>{{ sith_scores[0].pseudo }}
                                        </div>
                                        <div class="col align-self-end text-center" style="height:100px;border: 2px solid;border-color:blue;background-color:rgba(0,0,255,0.5);border-radius: 0 5px 0 0;">
                                            <span class="font">3</span><br>{{ sith_scores[2].score }} pts<br>{{ sith_scores[2].pseudo }}
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% if event %}
    <div class="modal fade" tabindex="-1" role="dialog" id="modalEvent">
        <div class="modal-dialog modal-dialog-centered" role="document" style="height:200px">
            <div class="modal-content" style="background-color:rgba(0,0,0,0.7);border:2px solid white;">
                <div class="modal-header align-items-center">
                    <h5 class="modal-title font h4">Evènement en cours !!!</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true" style="color:white;"><i class="far fa-times-circle fa-1x"></i></span>
                    </button>
                </div>
                <div class="modal-body">
                    <p class="h5">
                        Actuellement c'est {{ event.title|lower}}.
                    </p>
                    <p class="h5 mt-3">
                        En cette occasion, nous vous offrons pour {{ event.description }}.
                    </p>
                    <p class="h5 mt-3">
                        Cette promotion est valable jusqu'au {{ event.endEvent|date('d/m/Y') }}.
                    </p>
                </div>
            </div>
        </div>
      </div>
    {% endif %}
{% endblock %}

{% block javascripts %}
<script>
    $(document).ready(function(){
        if (!sessionStorage.getItem('event')) {
            $('#modalEvent').modal();
            sessionStorage.setItem('event', true)
        }
    });
</script>
{% endblock %}